(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/money.8538d153.svg"},34:function(e,t,a){e.exports=a(55)},39:function(e,t,a){},45:function(e,t,a){e.exports=a.p+"static/media/coin.84eb2fec.svg"},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),i=a(22),u=(a(39),a(6)),s=a(15),o=a(31),m=a(32),d=a(13),p=a.n(d),h=a(17),b=function(){var e=Object(h.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){return{type:"FAIL_REQUEST",error:e}},f=function(){return function(){var e=Object(h.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:a=e.sent,n=Object.keys(a).filter((function(e){return"USDT"!==e}));try{t({type:"CURRENCIES",currencies:n})}catch(r){t(E(r))}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v={email:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_EMAIL":return{email:t.email};default:return e}},g=a(33),j=a(8),O={currencies:[],expenses:[]},w=0,x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENCIES":return Object(j.a)(Object(j.a)({},e),{},{currencies:t.currencies});case"EXPENSES_FORM":return w=e.expenses.length,Object(j.a)(Object(j.a)({},e),{},{expenses:[].concat(Object(g.a)(e.expenses),[Object(j.a)({id:w},t.payload)])});case"DELETE_EXPENSE":return Object(j.a)(Object(j.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.id}))});default:return e}},C=Object(s.combineReducers)({user:y,wallet:x}),N=Object(s.createStore)(C,Object(o.composeWithDevTools)(Object(s.applyMiddleware)(m.a))),k=a(2),S=a(18),R=a(9),F=a(10),D=a(14),B=a(12),I=a(11),L=(a(45),a(28),a(46),function(e){Object(B.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(R.a)(this,a),(e=t.call(this)).state={disable:!0,email:"",password:""},e.handleChange=e.handleChange.bind(Object(D.a)(e)),e.validateInputs=e.validateInputs.bind(Object(D.a)(e)),e.submitButton=e.submitButton.bind(Object(D.a)(e)),e}return Object(F.a)(a,[{key:"submitButton",value:function(e){e.preventDefault();var t=this.props,a=t.successfulLogin,n=t.history;a(this.state),this.setState({disable:!0}),n.push("/carteira")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(S.a)({},a,n),this.validateInputs)}},{key:"validateInputs",value:function(){var e=this.state,t=e.password,a=e.email;t.length>=6&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(a)?this.setState({disable:!1}):this.setState({disable:!0})}},{key:"render",value:function(){var e=this.state,t=e.disable,a=e.email,n=e.password;return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",{translate:"no",className:"main-login"},r.a.createElement("section",{className:"section-container"},r.a.createElement("h1",null,"Trybe Wallet"),r.a.createElement("p",null,"Sua Carteira Digital")),r.a.createElement("form",{className:"form-login"},r.a.createElement("input",{className:"input-login","data-testid":"email-input",placeholder:"email@email.com",name:"email",value:a,onChange:this.handleChange}),r.a.createElement("input",{className:"input-login",name:"password","data-testid":"password-input",placeholder:"************",value:n,onChange:this.handleChange}),r.a.createElement("button",{class:"btn",type:"submit",disabled:t,onClick:this.submitButton},"Login"))))}}]),a}(r.a.Component)),T=Object(u.b)(null,(function(e){return{successfulLogin:function(t){return e({type:"USER_EMAIL",email:t.email})}}}))(L),A=function(e){Object(B.a)(a,e);var t=Object(I.a)(a);function a(){var e;return Object(R.a)(this,a),(e=t.call(this)).state={value:0,description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o"},e.handleChange=e.handleChange.bind(Object(D.a)(e)),e.submitButton=e.submitButton.bind(Object(D.a)(e)),e}return Object(F.a)(a,[{key:"submitButton",value:function(){var e=Object(h.a)(p.a.mark((function e(t){var a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b();case 3:a=e.sent,n=this.props.statesForm,r=Object(j.a)(Object(j.a)({},this.state),{},{exchangeRates:a}),n(r),this.setState({value:0});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(S.a)({},a,n))}},{key:"render",value:function(){var e=this.props.currencies,t=this.state,a=t.value,n=t.description,l=t.currency,c=t.method,i=t.tag;return r.a.createElement("form",{className:"form-wallet"},r.a.createElement("label",{htmlFor:"value"},"Value:",r.a.createElement("input",{className:"input-wallet",name:"value","data-testid":"value-input",value:a,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"description"},"Description:",r.a.createElement("input",{className:"input-wallet",id:"description",name:"description","data-testid":"description-input",value:n,onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"currency"},"Currency:",r.a.createElement("select",{className:"input-wallet",id:"currency",name:"currency","data-testid":"currency-input",value:l,onChange:this.handleChange},e.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement("label",{htmlFor:"method"},"Payment method:",r.a.createElement("select",{className:"input-wallet",id:"method",name:"method","data-testid":"method-input",value:c,onChange:this.handleChange},["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"].map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),r.a.createElement("label",{htmlFor:"tag"},"Category:",r.a.createElement("select",{className:"input-wallet",id:"tag",name:"tag","data-testid":"tag-input",value:i,onChange:this.handleChange},r.a.createElement("option",null,"Alimenta\xe7\xe3o"),r.a.createElement("option",null,"Lazer"),r.a.createElement("option",null,"Trabalho"),r.a.createElement("option",null,"Transporte"),r.a.createElement("option",null,"Sa\xfade"))),r.a.createElement("button",{className:"add-btn",type:"submit",onClick:this.submitButton},"Add"))}}]),a}(r.a.Component),M=Object(u.b)((function(e){return{currencies:e.wallet.currencies,expenses:e.wallet.expenses}}),(function(e){return{statesForm:function(t){return e({type:"EXPENSES_FORM",payload:t})},requestApi:function(t){return e(f())}}}))(A),_=(a(47),function(e){Object(B.a)(a,e);var t=Object(I.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){var e=this.props,t=e.expenses,a=e.deleteExpense;return console.log(t),r.a.createElement("table",{className:"table-wallet"},r.a.createElement("tbody",null,r.a.createElement("tr",{className:"head-table"},r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),t.map((function(e){return r.a.createElement("tbody",{key:e.id},r.a.createElement("tr",null,r.a.createElement("td",null,e.description),r.a.createElement("td",null,e.tag),r.a.createElement("td",null,e.method),r.a.createElement("td",null,Number(e.value).toFixed(2)),r.a.createElement("td",null,e.exchangeRates[e.currency].name),r.a.createElement("td",null,Number(e.exchangeRates[e.currency].ask).toFixed(2)),r.a.createElement("td",null,(Number(e.exchangeRates[e.currency].ask)*Number(e.value)).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{type:"button","data-testid":"edit-btn",className:"edit-btn"},"Editar"),r.a.createElement("button",{type:"button","data-testid":"delete-btn",className:"delete-btn",onClick:function(){return a(e.id)}},"Excluir"))))})))}}]),a}(r.a.Component)),U=Object(u.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{deleteExpense:function(t){return e(function(e){return{type:"DELETE_EXPENSE",id:e}}(t))},editExpense:function(t){return e({type:"EDIT_EXPENSE"})}}}))(_),P=(a(48),function(e){Object(B.a)(a,e);var t=Object(I.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currentEmail,a=e.expenses.map((function(e){var t=e.currency,a=e.exchangeRates[t].ask;return e.value*a})).reduce((function(e,t){return e+t}),0);return r.a.createElement("header",{className:"header-wallet"},r.a.createElement("div",{"data-testid":"total-field"},"\ud83d\udcb2: ".concat(a.toFixed(2))),r.a.createElement("div",{"data-testid":"header-currency-field"},"\ud83e\ude99: BRL"),r.a.createElement("div",{"data-testid":"email-field"},"\ud83d\udc64: ".concat(t)))}}]),a}(r.a.Component)),X=Object(u.b)((function(e){return{currentEmail:e.user.email,expenses:e.wallet.expenses}}))(P),W=(a(49),function(e){Object(B.a)(a,e);var t=Object(I.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(F.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.requestApi)()}},{key:"render",value:function(){return r.a.createElement("main",{className:"main-wallet"},r.a.createElement(X,null),r.a.createElement("div",{className:"form-container"},r.a.createElement(M,null)),r.a.createElement("div",{className:"table-container"},r.a.createElement(U,null)))}}]),a}(r.a.Component)),q=Object(u.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{requestApi:function(){return e(f())}}}))(W);var V=function(){return r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/",component:T}),r.a.createElement(k.a,{exact:!0,path:"/carteira",component:q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(i.a,{basename:"/trybe-wallet"},r.a.createElement(u.a,{store:N},r.a.createElement(V,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.91100b60.chunk.js.map